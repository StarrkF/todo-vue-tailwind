import{o as c,c as i,a as l,F as V,r as U,t as $,b as O,_ as P,m as z,d as u,w as M,e as R,f as a,g as s,h as d,i as x,v as k,j as D,k as q,n as H,l as J,T as Q}from"./index.3b348e14.js";import{B as W,C as r,u as X}from"./CustomButton.41b0b320.js";const Y={class:"table-responsive"},Z={class:"table-auto h-full"},ee={class:"dark:bg-slate-800 dark:border-b-slate-600 bg-light border-b-2"},le={scope:"col"},te={__name:"datatable",props:{head:{type:Object},bodyLength:{type:Number,default:0}},setup(f){return(m,_)=>(c(),i("div",Y,[l("table",Z,[l("thead",null,[l("tr",ee,[(c(!0),i(V,null,U(f.head,h=>(c(),i("th",le,$(h),1))),256))])]),l("tbody",null,[O(m.$slots,"default")])])]))}};const ae=["placeholder","value"],oe={__name:"BaseInput",props:{modelValue:{type:String,default:""},label:{type:String,default:""}},setup(f){return(m,_)=>(c(),i("input",z({class:"form-input",type:"text",placeholder:f.label,value:f.modelValue,onInput:_[0]||(_[0]=h=>m.$emit("update:modelValue",h.target.value))},m.$attrs),null,16,ae))}};var I=P(oe,[["__scopeId","data-v-594c75fd"]]);const se={class:"w-full sm:w-1/2 lg:w-1/4 my-10 mx-auto"},ne={class:"flex flex-col sm:flex-row mb-6"},ue={class:"flex flex-col sm:flex-row mb-6"},de={class:"overflow-y-auto"},re={class:"flex items-center mb-4"},ce=["value","id"],ie=["for"],me={class:"w-2/3"},_e={class:"flex flex-col md:flex-row"},fe={__name:"Todo",setup(f){const{index:m,show:_,store:h,update:E,destroy:T}=X(),K=u(["Id","Goal","Completion Status","Action"]),S=u(),g=u(),o=u({id:null,goal:null,status:null,selected:!1}),v=u([]),y=u(!0),w=u(!1),b=()=>{S.value=m().sort((t,n)=>n.id-t.id)},B=()=>{let t={goal:g.value,status:!1};h(t),g.value=null,b()},N=t=>{confirm("Are you sure you want to delete this todo?")&&(T(t),b())},j=()=>{confirm("Are you sure you want to delete this todo?")&&(v.value.forEach(t=>{T(t)}),v.value=[],b())},G=t=>{y.value=!1,w.value=!0,o.value=_(t)},C=()=>{E(o.value.id,q(o.value)),A(),b()},F=t=>{o.value=_(t),o.value.status=!o.value.status,C()},A=()=>{Object.keys(o.value).forEach(t=>{o.value[t]=null}),w.value=!1,y.value=!0};return M(()=>{b()}),(t,n)=>{const L=R("router-link");return c(),i(V,null,[l("div",se,[a(L,{to:"/preview"},{default:s(()=>[a(r,{color:"btn-theme"},{default:s(()=>[d("Preview")]),_:1})]),_:1})]),a(W,{title:"Todo App",class:"mt-12",glow:!0,header:"text-center"},{default:s(()=>[x(l("div",ne,[x(a(r,{color:"btn-danger",class:"flex-1 mb-4 sm:mb-0 mr-0 sm:mr-4",onClick:j},{default:s(()=>[d("Delete Selected")]),_:1},512),[[k,v.value.length>0]]),a(I,{label:"Save Goal",class:"max-w-6xl",modelValue:g.value,"onUpdate:modelValue":n[0]||(n[0]=e=>g.value=e),onKeyup:D(B,["enter"])},null,8,["modelValue","onKeyup"]),a(r,{color:"btn-theme",class:"flex-1 mt-4 sm:mt-0 ml-0 sm:ml-4",onClick:B},{default:s(()=>[d("Add Todo")]),_:1})],512),[[k,y.value]]),x(l("div",ue,[a(I,{label:"Edit Goal",class:"max-w-6xl",modelValue:o.value.goal,"onUpdate:modelValue":n[1]||(n[1]=e=>o.value.goal=e),onKeyup:D(C,["enter"])},null,8,["modelValue","onKeyup"]),a(r,{color:"btn-secondary",class:"flex-1 mt-4 sm:mt-0 ml-0 sm:ml-4",onClick:C},{default:s(()=>[d("Save")]),_:1}),a(r,{color:"btn-danger",class:"flex-1 mt-4 sm:mt-0 ml-0 sm:ml-4",onClick:A},{default:s(()=>[d("Cancel")]),_:1})],512),[[k,w.value]]),l("div",de,[a(te,{head:K.value},{default:s(()=>[(c(!0),i(V,null,U(S.value,e=>(c(),i("tr",{class:H(["tr-body",{"tr-completed":e.status,"tr-selected":v.value.includes(e.id)}])},[l("th",null,[l("div",re,[x(l("input",{type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=p=>v.value=p),value:e.id,id:"ch"+e.id,class:"w-5 h-5 hover:cursor-pointer accent-slate-800 dark:accent-blue-700 outline-none mr-2"},null,8,ce),[[J,v.value]]),l("label",{role:"button",for:"ch"+e.id},$(e.id),9,ie)])]),l("td",me,$(e.goal),1),l("td",null,[a(Q,{modelValue:e.status,"onUpdate:modelValue":p=>e.status=p,onChange:p=>F(e.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),l("td",_e,[a(r,{onClick:p=>G(e.id)},{default:s(()=>[d("Update")]),_:2},1032,["onClick"]),a(r,{class:"mt-4 md:mt-0 ml-0 sm:ml-4",color:"btn-danger",onClick:p=>N(e.id)},{default:s(()=>[d("Delete")]),_:2},1032,["onClick"])])],2))),256))]),_:1},8,["head"])])]),_:1})],64)}}};export{fe as default};
