import{o as m,c as i,a,F as V,r as E,t as $,b as P,_ as z,m as R,d,w as q,e as H,f as l,g as s,h as r,i as C,v as k,j as D,k as J,n as M,T as Q}from"./index.33d9e86c.js";import{u as W}from"./CustomButton.vue_vue_type_style_index_0_scoped_true_lang.0c417254.js";import{B as X,C as c}from"./CustomButton.43a1b7f2.js";const Y={class:"table-responsive"},Z={class:"table-auto h-full"},ee={class:"dark:bg-slate-800 dark:border-b-slate-600 bg-light border-b-2"},te={scope:"col"},le={__name:"datatable",props:{head:{type:Object},bodyLength:{type:Number,default:0}},setup(p){return(_,v)=>(m(),i("div",Y,[a("table",Z,[a("thead",null,[a("tr",ee,[(m(!0),i(V,null,E(p.head,f=>(m(),i("th",te,$(f),1))),256))])]),a("tbody",null,[P(_.$slots,"default")])])]))}};const ae=["placeholder","value"],oe={__name:"BaseInput",props:{modelValue:{type:String,default:""},label:{type:String,default:""}},setup(p){return(_,v)=>(m(),i("input",R({class:"form-input",type:"text",placeholder:p.label,value:p.modelValue,onInput:v[0]||(v[0]=f=>_.$emit("update:modelValue",f.target.value))},_.$attrs),null,16,ae))}};var I=z(oe,[["__scopeId","data-v-594c75fd"]]);const se={class:"w-full sm:w-1/2 lg:w-1/4 my-5 mx-auto"},ue={class:"flex flex-col sm:flex-row mb-6"},ne={class:"flex flex-col sm:flex-row mb-6"},de={class:"overflow-y-auto"},re=["onClick"],ce={class:"w-2/3"},me={class:"flex flex-col md:flex-row"},pe={__name:"Todo",setup(p){const{index:_,show:v,store:f,update:K,destroy:S}=W(),U=d(["Id","Goal","Completion Status","Action"]),T=d(),g=d(),o=d({id:null,goal:null,status:null}),u=d([]),x=d(!0),y=d(!1),h=()=>{T.value=_().sort((e,n)=>n.id-e.id)},B=()=>{let e={goal:g.value,status:!1};f(e),g.value=null,h()},N=e=>{confirm("Are you sure you want to delete this todo?")&&(S(e),h())},j=()=>{confirm("Are you sure you want to delete this todo?")&&(u.value.forEach(e=>{S(e)}),u.value=[],h())},G=e=>{x.value=!1,y.value=!0,o.value=v(e)},w=()=>{K(o.value.id,J(o.value)),A(),h()},F=e=>{o.value=v(e),o.value.status=!o.value.status,w()},A=()=>{Object.keys(o.value).forEach(e=>{o.value[e]=null}),y.value=!1,x.value=!0},L=e=>{u.value.includes(e)?u.value=u.value.filter(n=>n!==e):u.value.push(e)};return q(()=>{h()}),(e,n)=>{const O=H("router-link");return m(),i(V,null,[a("div",se,[l(O,{to:"/preview"},{default:s(()=>[l(c,{color:"btn-theme"},{default:s(()=>[r("Preview")]),_:1})]),_:1})]),l(X,{title:"Todo App",class:"mt-12",glow:!0,header:"text-center"},{default:s(()=>[C(a("div",ue,[C(l(c,{color:"btn-danger",class:"flex-1 mb-4 sm:mb-0 mr-0 sm:mr-4",onClick:j},{default:s(()=>[r("Delete Selected")]),_:1},512),[[k,u.value.length>0]]),l(I,{label:"Save Goal",class:"max-w-6xl",modelValue:g.value,"onUpdate:modelValue":n[0]||(n[0]=t=>g.value=t),onKeyup:D(B,["enter"])},null,8,["modelValue","onKeyup"]),l(c,{color:"btn-theme",class:"flex-1 mt-4 sm:mt-0 ml-0 sm:ml-4",onClick:B},{default:s(()=>[r("Add Todo")]),_:1})],512),[[k,x.value]]),C(a("div",ne,[l(I,{label:"Edit Goal",class:"max-w-6xl",modelValue:o.value.goal,"onUpdate:modelValue":n[1]||(n[1]=t=>o.value.goal=t),onKeyup:D(w,["enter"])},null,8,["modelValue","onKeyup"]),l(c,{color:"btn-secondary",class:"flex-1 mt-4 sm:mt-0 ml-0 sm:ml-4",onClick:w},{default:s(()=>[r("Save")]),_:1}),l(c,{color:"btn-danger",class:"flex-1 mt-4 sm:mt-0 ml-0 sm:ml-4",onClick:A},{default:s(()=>[r("Cancel")]),_:1})],512),[[k,y.value]]),a("div",de,[l(le,{head:U.value},{default:s(()=>[(m(!0),i(V,null,E(T.value,t=>(m(),i("tr",{onClick:b=>L(t.id),role:"button",class:M(["tr-body",{"tr-completed":t.status,"tr-selected":u.value.includes(t.id)}])},[a("th",null,$(t.id),1),a("td",ce,$(t.goal),1),a("td",null,[l(Q,{modelValue:t.status,"onUpdate:modelValue":b=>t.status=b,onChange:b=>F(t.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),a("td",me,[l(c,{onClick:b=>G(t.id)},{default:s(()=>[r("Update")]),_:2},1032,["onClick"]),l(c,{class:"mt-4 md:mt-0 ml-0 sm:ml-4",color:"btn-danger",onClick:b=>N(t.id)},{default:s(()=>[r("Delete")]),_:2},1032,["onClick"])])],10,re))),256))]),_:1},8,["head"])])]),_:1})],64)}}};export{pe as default};
